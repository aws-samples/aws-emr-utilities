[
  {
    "Classification": "yarn-env",
    "Configurations": [
      {
        "Classification": "export",
        "Properties": {
          "YARN_NODEMANAGER_OPTS": "\"${YARN_NODEMANAGER_OPTS} -javaagent:/usr/lib/prometheus/jmx_prometheus_javaagent-0.17.2.jar=7005:/etc/hadoop/conf/yarn_jmx_config_node_manager.yaml -Dcom.sun.management.jmxremote -Dcom.sun.management.jmxremote.ssl=false -Dcom.sun.management.jmxremote.authenticate=false -Dcom.sun.management.jmxremote.port=50111\"",
          "YARN_RESOURCEMANAGER_OPTS": "\"${YARN_RESOURCEMANAGER_OPTS} -javaagent:/usr/lib/prometheus/jmx_prometheus_javaagent-0.17.2.jar=7005:/etc/hadoop/conf/yarn_jmx_config_resource_manager.yaml -Dcom.sun.management.jmxremote -Dcom.sun.management.jmxremote.ssl=false -Dcom.sun.management.jmxremote.authenticate=false -Dcom.sun.management.jmxremote.port=50111\""
        }
      }
    ],
    "Properties": {}
  },
  {
    "Classification": "hdfs-env",
    "Configurations": [
      {
        "Classification": "export",
        "Properties": {
          "HADOOP_DATANODE_OPTS": "\"${HADOOP_DATANODE_OPTS} -javaagent:/usr/lib/prometheus/jmx_prometheus_javaagent-0.17.2.jar=7001:/etc/hadoop/conf/hdfs_jmx_config_datanode.yaml -Dcom.sun.management.jmxremote -Dcom.sun.management.jmxremote.ssl=false -Dcom.sun.management.jmxremote.authenticate=false -Dcom.sun.management.jmxremote.port=50103\"",
          "HADOOP_NAMENODE_OPTS": "\"${HADOOP_NAMENODE_OPTS} -javaagent:/usr/lib/prometheus/jmx_prometheus_javaagent-0.17.2.jar=7001:/etc/hadoop/conf/hdfs_jmx_config_namenode.yaml -Dcom.sun.management.jmxremote -Dcom.sun.management.jmxremote.ssl=false -Dcom.sun.management.jmxremote.authenticate=false -Dcom.sun.management.jmxremote.port=50103\""
        }
      }
    ],
    "Properties": {}
  },
  {
    "Classification": "spark-metrics",
    "Properties": {
      "*.sink.jmx.class": "org.apache.spark.metrics.sink.JmxSink"
    }
  }
]
